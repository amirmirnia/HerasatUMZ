@* Toast.razor *@
<div class="toast @ToastTypeClass" role="alert" aria-label="@Message" style="display:@(IsVisible ? "flex" : "none");">
    <i class="@IconClass"></i>
    <span>@Message</span>
</div>

@code {
    [Parameter] public string Message { get; set; } = "";
    [Parameter] public ToastType Type { get; set; } = ToastType.Info;
    [Parameter] public int Duration { get; set; } = 3000; // میلی‌ثانیه

    private bool IsVisible { get; set; } = true;

    private string ToastTypeClass => Type switch
    {
        ToastType.Success => "toast-success",
        ToastType.Error => "toast-error",
        ToastType.Warning => "toast-warning",
        _ => "toast-info"
    };

    private string IconClass => Type switch
    {
        ToastType.Success => "fas fa-check-circle",
        ToastType.Error => "fas fa-exclamation-circle",
        ToastType.Warning => "fas fa-exclamation-triangle",
        _ => "fas fa-info-circle"
    };

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            await Task.Delay(Duration);
            IsVisible = false;
            StateHasChanged();
        }
    }
}

